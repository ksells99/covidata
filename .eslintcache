[{"D:\\Kai-2\\covid-stats\\src\\index.js":"1","D:\\Kai-2\\covid-stats\\src\\App.js":"2","D:\\Kai-2\\covid-stats\\src\\screens\\Dashboard.js":"3","D:\\Kai-2\\covid-stats\\src\\components\\Navbar.js":"4","D:\\Kai-2\\covid-stats\\src\\components\\DashCard.js":"5","D:\\Kai-2\\covid-stats\\src\\components\\AllRegions.js":"6"},{"size":318,"mtime":1611412215906,"results":"7","hashOfConfig":"8"},{"size":347,"mtime":1611501145938,"results":"9","hashOfConfig":"8"},{"size":1281,"mtime":1611500075029,"results":"10","hashOfConfig":"8"},{"size":479,"mtime":1611499347602,"results":"11","hashOfConfig":"8"},{"size":3053,"mtime":1611493163971,"results":"12","hashOfConfig":"8"},{"size":3356,"mtime":1611501076860,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"fbwpa",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\Kai-2\\covid-stats\\src\\index.js",[],["28","29"],"D:\\Kai-2\\covid-stats\\src\\App.js",[],"D:\\Kai-2\\covid-stats\\src\\screens\\Dashboard.js",[],"D:\\Kai-2\\covid-stats\\src\\components\\Navbar.js",[],"D:\\Kai-2\\covid-stats\\src\\components\\DashCard.js",["30","31"],"import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport dayjs from \"dayjs\";\r\nimport numeral from \"numeral\";\r\n\r\nconst DashCard = ({ type, color, newTitle, totalTitle }) => {\r\n  const [recent, setRecent] = useState(0);\r\n  const [combined, setCombined] = useState(0);\r\n  const [lastUpdated, setLastUpdated] = useState(\"01/01/2021\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataError, setDataError] = useState(null);\r\n\r\n  const fetchCases = async () => {\r\n    setDataError(null);\r\n    setLoading(false);\r\n    try {\r\n      // Get data from gov API\r\n      const {\r\n        data: { data },\r\n      } = await axios.get(\r\n        `https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=overview&structure={\"date\":\"date\", \"newCasesByPublishDate\":\"newCasesByPublishDate\",\"cumCasesByPublishDate\":\"cumCasesByPublishDate\"}`\r\n      );\r\n\r\n      // Get first object from array (latest date) and set state\r\n      setRecent(data[0].newCasesByPublishDate);\r\n      setCombined(data[0].cumCasesByPublishDate);\r\n      setLastUpdated(data[0].date);\r\n\r\n      //\r\n    } catch (error) {\r\n      console.error(error);\r\n      setDataError(\"Error fetching data. Reload to try again.\");\r\n    }\r\n  };\r\n\r\n  const fetchDeaths = async () => {\r\n    try {\r\n      // Get data from gov API\r\n      const {\r\n        data: { data },\r\n      } = await axios.get(\r\n        `https://api.coronavirus.data.gov.uk/v1/data?filters=areaType=overview&structure={\"date\":\"date\",\"newDeaths28DaysByPublishDate\":\"newDeaths28DaysByPublishDate\",\"cumDeaths28DaysByPublishDate\":\"cumDeaths28DaysByPublishDate\" }`\r\n      );\r\n\r\n      // Get first object from array (latest date) and set state\r\n      setRecent(data[0].newDeaths28DaysByPublishDate);\r\n      setCombined(data[0].cumDeaths28DaysByPublishDate);\r\n      setLastUpdated(data[0].date);\r\n\r\n      //\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n\r\n    if (type === \"cases\") {\r\n      fetchCases();\r\n    } else {\r\n      fetchDeaths();\r\n    }\r\n\r\n    setLoading(false);\r\n  }, [type]);\r\n\r\n  return (\r\n    <div\r\n      className={`w-full md:w-5/12   mb-5 md:mb-0 text-left font-semibold  rounded-md overflow-hidden bg-${color}`}\r\n    >\r\n      <Link to={`uk/${type}`}>\r\n        <div className='flex flex-col justify-between h-full p-5'>\r\n          <div>\r\n            <h3 className='text-md mb-1'>{newTitle}</h3>\r\n            <h2 className='text-2xl mb-3 font-bold'>\r\n              {numeral(recent).format(\"0,0\")}\r\n            </h2>\r\n          </div>\r\n\r\n          <div>\r\n            <h3 className='text-md mb-1 text-right'>{totalTitle}</h3>\r\n            <h2 className='text-2xl text-right font-bold'>\r\n              {numeral(combined).format(\"0,0\")}\r\n            </h2>\r\n          </div>\r\n          <p className='text-xs italic mt-3 '>{`Last updated ${dayjs(\r\n            lastUpdated\r\n          ).format(\"DD/MM/YYYY\")}`}</p>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashCard;\r\n","D:\\Kai-2\\covid-stats\\src\\components\\AllRegions.js",["32"],{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","severity":1,"message":"38","line":11,"column":10,"nodeType":"39","messageId":"40","endLine":11,"endColumn":17},{"ruleId":"37","severity":1,"message":"41","line":12,"column":10,"nodeType":"39","messageId":"40","endLine":12,"endColumn":19},{"ruleId":"37","severity":1,"message":"42","line":33,"column":9,"nodeType":"39","messageId":"40","endLine":33,"endColumn":20},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","'dataError' is assigned a value but never used.","'clearSearch' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]